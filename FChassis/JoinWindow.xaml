<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Windows="clr-namespace:FChassis.Windows;assembly=FChassis.Core" x:Class="FChassis.JoinWindow"
        Title="Join" Height="800" Width="1800">
    <Grid>
        <!-- Define Rows and Columns -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Top panel for Load Part buttons -->
            <RowDefinition Height="*"/>
            <!-- Main area -->
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="180"/>
            <!-- Left panel (for buttons) -->
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <!-- Main workspace -->
        </Grid.ColumnDefinitions>

        <!-- Top Panel with Two Columns -->
        <Grid Grid.Row="0" Grid.ColumnSpan="2" Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Load Part 1 -->
            <Grid Grid.Column="0" Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <!-- Expands to fill available space -->
                </Grid.ColumnDefinitions>
                <Button Content="Load Part 1" Width="150" Margin="2,2,2,5" Command="{Binding LoadPart1Command}" Grid.Column="0"/>
                <TextBox Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" Text="{Binding Part1Filename, UpdateSourceTrigger=PropertyChanged}"/>
            </Grid>

            <!-- Load Part 2 -->
            <Grid Grid.Column="1" Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <!-- Expands to fill available space -->
                </Grid.ColumnDefinitions>
                <Button Content="Load Part 2" Width="150" Margin="2,2,2,5" Command="{Binding LoadPart2Command}" Grid.Column="0"/>
                <TextBox Grid.Column="1" Margin="5" HorizontalAlignment="Stretch" Text="{Binding Part2Filename, UpdateSourceTrigger=PropertyChanged}"/>
            </Grid>
        </Grid>

        <!-- Left Panel (Flip & Join Buttons) -->
        <Grid Grid.Row="1" Grid.Column="0" Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Button Content="Rotate Part-1 About Z-180" Width="150" Height="35" Margin="5"
                    Command="{Binding YawPart1By180Command}" Grid.Row="0"/>
            <Button Content="Rotate Part-2 About Z-180" Width="150" Height="35" Margin="5"
                    Command="{Binding YawPart2By180Command}" Grid.Row="1"/>
            <Button Content="Rotate Part-1 About X-180" Width="150" Height="35" Margin="5"
                    Command="{Binding RollPart1By180Command}" Grid.Row="2"/>
            <Button Content="Rotate Part-2 About X-180" Width="150" Height="35" Margin="5"
                    Command="{Binding RollPart2By180Command}" Grid.Row="3"/>
            <Button Content="Join" Width="150" Height="35" Margin="5"
                    Command="{Binding JoinCommand}" CommandParameter="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}}" Grid.Row="4"/>
        </Grid>

        <Border Grid.Row="1" Grid.Column="1" BorderBrush="Black" BorderThickness="2" Margin="5,5,0,5">
            <Image x:Name="ThumbnailImage" Margin="1,1,5,4" Source="{Binding ThumbnailBitmap}"/>
        </Border>
        <Windows:Win32Host x:Name="OCCHostWnd" Grid.Row="1" Grid.Column="2"  Margin="0,5,0,5"/>
    </Grid>
</Window>